{"version":3,"sources":["components/Tree/tree.module.css","components/Card/card.module.css","components/Card/index.js","constants/index.js","components/Line/index.js","processor/move-persons/index.js","processor/trim-persons/index.js","processor/find-person-by-id/index.js","processor/find-person-by-coordinates/index.js","processor/determine-y-positions/index.js","utils/map.js","processor/get-dimensions/index.js","processor/plot-persons/index.js","processor/find-all-unions/index.js","processor/plot-lines/index.js","processor/index.js","components/Tree/index.js","components/Header/index.js","components/Footer/index.js","layouts/Page.js","utils/tree-utils.js","fixtures/two-headed-family.fixture.js","pages/Main/index.js","components/TreeList/index.js","pages/ManageTrees/index.js","pages/TreePage/index.js","App.js","serviceWorker.js","index.js","components/Line/line.module.css"],"names":["module","exports","Card","person","className","style","width","height","props","classnames","styles","container","g","name","Line","type","children","isHighlighted","highlighted","movePersons","x","y","persons","forEach","minX","_","min","map","minY","findPersonById","personId","find","id","findPersonByCoordinates","determineYPositions","list","unions","determineYPosition","el","has","isUndefined","isNaN","listA","filter","a","determine","els","value","myChildren","p","indexOf","mySiblings","length","isEqual","myParents","mySpouses","sort","n","cb","Array","fill","i","rows","max","columns","whileTrue","limit","count","shouldShrink","byId","trimPersons","u","stickTogether","childrenUnderParents","parentsOverChildren","pop","popSingle","fixUnionIntruders","trimGaps","shrink","dimensions","moveCloser","b","parentsMiddle","getGroupCenterX","childrenMiddle","moveX","calculateOverlap","unionMembers","unionY","memberLeft","memberRight","difference","intruders","e","hasOverlap","getGlobalOverlaps","overlaps","fixOverlap","intruder","temp1","temp2","args","reverse","ids","movablePersons","prev","delta","xs","ans","Math","round","floor","localeCompare","personsBeyond","getDimensions","row","column","personsRow","leftSpousesAndSiblings","spouseIds","reduce","arr","spouseId","push","siblingIds","findSpousesAndSiblings","fixOverlaps","myPersons","condition","getOverlaps","findAllUnions","unionIds","Set","join","unionId","split","lines","prelimenaryPlotting","spaceOverlapingLines","continueLines","spaceOverlapingLinesVertical","line","assosiatedItems","points","params","plotLine","x1","y1","x2","y2","unionLine","lineSpineY","shouldBeContinued","sortPoints","spouseId1","spouseId2","spouse1","spouse2","calculateCardCenter","cardWidth","cardSpacingHorizontal","getPointBetween","xUnion","yUnion","child","xChild","yChild","groups","lineIsInGroup","group","l","line2","lineCount","lineSpacing","cardSpacingVertical","totalWidth","point","verticalLines","sortPointsVertical","start","end","isInGroup","pointsGoals","fixMissingParents","item","parentId","Tree","updateKey","forceSelectedPersonId","onCalculatedDimensions","onClickPerson","selectedItems","hasForcedId","useMemo","originalList","timeStart","performance","now","clonedList","cloneDeep","plotPersons","plotLines","timeEnd","time","processed","treeWidth","treeHeight","console","log","processor","React","useEffect","useState","hoverPerson","setHoverPerson","elementId","result","index","random","charAt","generateID","selectedPerson","mouseEnter","target","getAttribute","resetSelectedPerson","cardOnClick","cards","onClick","onMouseLeave","data-person-id","onMouseEnter","key","stylesCard","selected","highlight","isPersonHighlighted","position","top","left","connecters","d","Header","to","src","alt","Date","getFullYear","Fragment","Footer","instantiatePerson","treeId","uniqueString","createTree","createUnion","person1","person2","attachChildren","createPerson","optimizeTree","tree","cleanList","cleanItem","parents","replaced","JSON","stringify","replace","RegExp","toString","parse","vlad","john","anna","papa","mama","diana","grandpapa","grandmama","othergrandpapa","othergrandmama","highlightedNode","fixture","MainPage","Page","prettyBytes","require","TreeList","useStatePersist","trees","setTrees","removeTree","window","confirm","edited","str","filename","text","element","document","createElement","setAttribute","encodeURIComponent","display","body","appendChild","click","removeChild","downloadFile","TextEncoder","encode","prompt","TreePage","useParams","setUpdateKey","zoom","setZoom","setShouldShrink","setSelectedItems","treeDimensions","setTreeDimensions","t","ManageTrees","getPerson","pushToList","editSelectedItem","tabIndex","onKeyDown","keyCode","disabled","partner","itemHasParents","parent1","parent2","padding","transform","w","h","isSelected","App","path","component","PageTree","PageManageTrees","PageMain","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0ad9b49a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tree_container__2B4WO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"card_container__3LviL\",\"highlight\":\"card_highlight__3M_T9\",\"selected\":\"card_selected__2sldN\",\"name\":\"card_name__3HUWV\",\"profilePicture\":\"card_profilePicture__1wQeF\"};","import React from \"react\";\nimport styles from \"./card.module.css\";\nimport classnames from \"classnames\";\n\nimport { cardWidth, cardHeight } from \"../../constants\";\n\nconst Card = ({\n  person,\n  className,\n  style = {\n    width: cardWidth,\n    height: cardHeight,\n  },\n  ...props\n}) => {\n  return (\n    <div\n      className={classnames(styles.container, styles[person.g], className)}\n      style={style}\n      {...props}\n    >\n      <div className={styles.name}>{person.name}</div>\n    </div>\n  );\n};\n\nexport default Card;\n","export const cardWidth = 200;\nexport const cardHeight = 200;\nexport const cardSpacingVertical = 90;\nexport const cardSpacingHorizontal = 90;\n","import React from \"react\";\nimport styles from \"./line.module.css\";\nimport classnames from \"classnames\";\n\nconst Line = ({ type = \"undefined\", children, isHighlighted }) => (\n  <svg\n    className={classnames(styles.container, {\n      [styles[\"type--\" + type]]: !!type,\n      [styles.highlighted]: isHighlighted,\n    })}\n  >\n    {children}\n  </svg>\n);\n\nexport default Line;\n","const movePersons = (x, y, persons) => {\n  persons.forEach((person) => {\n    person.x += x;\n    person.y += y;\n  });\n};\n\nexport default movePersons;\n","import _ from \"lodash\";\nimport movePersons from \"../move-persons\";\n\nexport default (persons) => {\n  const minX = _.min(persons.map(({ x = 0 }) => x));\n  const minY = _.min(persons.map(({ y = 0 }) => y));\n  movePersons(-minX, -minY, persons);\n};\n","const findPersonById = (personId, persons) => {\n  return persons.find(({ id }) => id === personId);\n};\n\nexport default findPersonById;\n","const findPersonByCoordinates = (x, y, persons) =>\n  persons.find((person) => person.x === x && person.y === y);\n\nexport default findPersonByCoordinates;\n","import _ from \"lodash\";\n\nconst determineYPosition = (el, list, unions, y) => {\n  const shouldSetY = !_.has(el, \"y\") && !_.isUndefined(y) && !_.isNaN(y);\n\n  if (shouldSetY) el.y = y;\n\n  if (_.has(el, \"y\")) {\n    const listA = list.filter((a) => !_.has(a, \"y\"));\n    const determine = (els, value) => {\n      els.forEach((a) => determineYPosition(a, listA, unions, el.y + value));\n    };\n\n    const myChildren = listA.filter(({ p }) => p.indexOf(el.id) !== -1);\n    const mySiblings = listA.filter(\n      ({ p }) => p.length > 0 && _.isEqual(el.p, p)\n    );\n    const myParents = listA.filter(({ id }) => el.p.indexOf(id) !== -1);\n    const mySpouses = listA.filter(({ id }) => {\n      return !!unions.find(({ p }) => _.isEqual(p.sort(), [id, el.id].sort()));\n    });\n\n    determine(myChildren, 1);\n    determine(myParents, -1);\n    determine([...mySpouses, ...mySiblings], 0);\n  }\n};\n\nconst determineYPositions = (list, unions) => {\n  determineYPosition(list[0], list, unions, 0);\n};\n\nexport default determineYPositions;\n","export default (n, cb) => new Array(n).fill().map((_, i) => cb(i));\n","import _ from \"lodash\";\nexport default (list) => {\n  return {\n    rows: _.max(list.map(({ y = 0 }) => y)) + 1,\n    columns: _.max(list.map(({ x = 0 }) => x)) + 1,\n  };\n};\n","import trimPersons from \"../trim-persons\";\nimport findPersonById from \"../find-person-by-id\";\nimport findPersonByCoordinates from \"../find-person-by-coordinates\";\nimport determineYPositions from \"../determine-y-positions\";\nimport _ from \"lodash\";\nimport map from \"../../utils/map\";\nimport getDimensions from \"../get-dimensions\";\nimport {\n  cardWidth,\n  cardHeight,\n  cardSpacingVertical,\n  cardSpacingHorizontal,\n} from \"../../constants\";\n\nconst whileTrue = (cb, limit = 200) => {\n  let count = 0;\n  while (cb()) {\n    count++;\n    if (count === limit) break;\n  }\n};\n\nexport default (persons, unions = [], shouldShrink) => {\n  persons.sort(byId);\n\n  determineYPositions(persons, unions);\n  trimPersons(persons);\n\n  persons.forEach((person, i) => (person.x = i * 1));\n\n  unions.forEach((u) => (u.y = findPersonById(u.p[0], persons).y));\n\n  for (let i = 0; i < 2; i++) {\n    stickTogether(unions, persons);\n    childrenUnderParents(unions, persons);\n    parentsOverChildren(unions, persons);\n    pop(persons, unions);\n    popSingle(persons);\n    whileTrue(() => fixUnionIntruders(persons, unions) > 0);\n    trimGaps(persons);\n    trimPersons(persons);\n    if (shouldShrink) shrink(persons);\n  }\n\n  persons.forEach((person) => {\n    person.dimensions = {\n      x: person.y * (cardHeight + cardSpacingHorizontal),\n      y: person.x * (cardWidth + cardSpacingVertical),\n      width: cardWidth,\n      height: cardHeight,\n    };\n  });\n\n  return persons;\n};\n\nconst stickTogether = (unions, persons) => {\n  unions.forEach(({ children }) => moveCloser(children, persons));\n  unions.forEach(({ p }) => moveCloser(p, persons));\n};\n\nconst parentsOverChildren = (unions, persons) => {\n  unions.sort((a, b) => b.y - a.y);\n  unions.forEach(({ p, children }) => {\n    if (children.length === 0) return;\n\n    const parentsMiddle = getGroupCenterX(p, persons);\n    const childrenMiddle = getGroupCenterX(children, persons);\n\n    moveX(p, childrenMiddle - parentsMiddle, persons);\n  });\n};\n\nconst childrenUnderParents = (unions, persons) => {\n  unions.sort((a, b) => b.y - a.y);\n  unions.forEach(({ p, children }) => {\n    if (children.length === 0) return;\n    const parentsMiddle = getGroupCenterX(p, persons);\n    const childrenMiddle = getGroupCenterX(children, persons);\n    moveX(children, -(childrenMiddle - parentsMiddle), persons);\n  });\n};\n\nconst fixUnionIntruders = (persons, unions = []) => {\n  const calculateOverlap = ({ p }) => {\n    const unionMembers = p\n      .map((id) => findPersonById(id, persons))\n      .sort((a, b) => a.x - b.x);\n    const unionY = unionMembers[0].y;\n    const [memberLeft, memberRight] = unionMembers;\n    const difference = memberRight.x - memberLeft.x;\n    if (difference <= 0) return;\n    const intruders = new Array(difference - 1)\n      .fill()\n      .map((_, i) =>\n        findPersonByCoordinates(memberLeft.x + i + 1, unionY, persons)\n      )\n      .filter((e) => !!e);\n\n    return {\n      intruders,\n      memberLeft,\n      memberRight,\n      p,\n      hasOverlap: intruders.length > 0,\n    };\n  };\n\n  const getGlobalOverlaps = () =>\n    unions\n      .map(calculateOverlap)\n      .filter((e) => !!e && e.intruders.length > 0)\n      .sort((a, b) => {\n        return a.difference - b.difference;\n      });\n\n  let overlaps = getGlobalOverlaps();\n\n  const fixOverlap = ({ intruders, memberLeft, memberRight, p }) => {\n    if (calculateOverlap({ p }).hasOverlap) {\n      for (const intruder of intruders) {\n        const temp1 = memberLeft.x;\n        const temp2 = intruder.x;\n\n        memberLeft.x = temp2;\n        intruder.x = temp1;\n\n        if (calculateOverlap({ p }).hasOverlap) {\n          memberLeft.x = temp1;\n          intruder.x = temp2;\n        } else {\n          break;\n        }\n      }\n    }\n  };\n\n  overlaps.forEach((args) => {\n    fixOverlap(args);\n    fixOverlap({ ...args, intruders: [...args.intruders].reverse() });\n  });\n\n  overlaps = getGlobalOverlaps();\n\n  return overlaps.length;\n};\n\nconst moveCloser = (ids, persons) => {\n  const movablePersons = ids.map((id) => findPersonById(id, persons));\n  for (let i = 1; i < movablePersons.length; i++) {\n    const prev = movablePersons[i - 1];\n    const curr = movablePersons[i];\n    curr.x = prev.x + 1;\n  }\n};\n\nconst moveX = (ids, delta, persons) => {\n  const movablePersons = ids.map((id) => findPersonById(id, persons));\n  for (let i = 0; i < movablePersons.length; i++) {\n    movablePersons[i].x += delta;\n  }\n};\n\nconst getGroupCenterX = (ids, persons) => {\n  const y = findPersonById(ids[0], persons).y;\n  const xs = ids.map((id) => findPersonById(id, persons).x);\n\n  const left = _.min(xs);\n  const right = _.max(xs);\n\n  const ans = (left + right) / 2;\n\n  return y % 2 > 1 ? Math.round(ans) : Math.floor(ans);\n};\n\nconst byId = (a, b) => `${a}`.localeCompare(b);\n\nconst trimGaps = (persons) => {\n  let x = 0;\n  while (true) {\n    const personsBeyond = persons.filter((person) => x < person.x);\n    if (personsBeyond.length === 0) break;\n    const lineIsEmpty = persons.filter((person) => person.x === x).length;\n    if (lineIsEmpty === 0) {\n      personsBeyond.forEach((person) => person.x--);\n    } else x++;\n  }\n  return persons;\n};\n\nconst pop = (persons, unions) => {\n  const { rows, columns } = getDimensions(persons);\n\n  const findSpousesAndSiblings = (person) => {\n    const myUnions = unions.filter(({ p }) => p.indexOf(person.id) !== -1);\n    const spouseIds = myUnions.reduce((arr, { p }) => {\n      const spouseId = p[0] === person.id ? p[1] : p[0];\n      arr.push(spouseId);\n      return arr;\n    }, []);\n    const siblingIds = persons.reduce((arr, { p, id }) => {\n      if (person.p.length !== 0 && _.isEqual(person.p.sort(), p.sort()))\n        arr.push(id);\n      return arr;\n    }, []);\n    return [...spouseIds, ...siblingIds].map((id) =>\n      findPersonById(id, persons)\n    );\n  };\n\n  map(rows, (row) => {\n    map(columns, (i) => {\n      const column = columns - i - 1;\n      const personsRow = persons.filter(({ y }) => y === row);\n      const person = findPersonByCoordinates(column, row, personsRow);\n\n      if (!person) return;\n\n      const spousesAndSiblings = findSpousesAndSiblings(person);\n      const leftSpousesAndSiblings = spousesAndSiblings.filter(\n        ({ x }) => x < column\n      );\n      whileTrue(() =>\n        fixOverlaps([person, ...leftSpousesAndSiblings], personsRow)\n      );\n    });\n  });\n};\n\nconst fixOverlaps = (myPersons, persons) => {\n  let has = false;\n  for (const a of myPersons) {\n    for (const b of persons) {\n      if (b.id !== a.id && b.x === a.x && b.y === a.y) {\n        const sibling = b.p.length !== 0 && _.isEqual(b.p.sort(), a.p.sort());\n        if (sibling)\n          myPersons.filter((e) => e.id !== a.id).map((p) => (p.x += 1));\n        else myPersons.map((p) => (p.x += 1));\n        has = true;\n      }\n    }\n  }\n  return has;\n};\n\nconst getOverlaps = (person, persons) => {\n  return persons.filter((e) => {\n    if (e.id === person.id || e.y !== person.y || e.x !== person.x)\n      return false;\n    return true;\n  });\n};\n\nconst popSingle = (persons) => {\n  persons.forEach((person) => {\n    whileTrue(() => {\n      const condition = getOverlaps(person, persons).length > 0;\n      if (condition) person.x++;\n      return condition;\n    });\n  });\n};\n\nconst shrink = (persons) => {\n  const { rows, columns } = getDimensions(persons);\n  map(rows, (row) => {\n    map(columns, (column) => {\n      const x = columns - column - 1;\n      if (!findPersonByCoordinates(x, row, persons)) {\n        persons.filter((e) => e.y === row && e.x > x).forEach((e) => e.x--);\n      }\n    });\n  });\n};\n","import _ from \"lodash\";\n\nconst findAllUnions = (persons) => {\n  const unionIds = [\n    ...new Set(\n      persons.reduce((arr, person) => {\n        if (person.p.length !== 2) return arr;\n        arr.push(person.p.sort().join(\"@@@\"));\n        return arr;\n      }, [])\n    ),\n  ].sort();\n\n  const unions = unionIds.map((unionId) => {\n    const p = unionId.split(\"@@@\");\n\n    const children = persons.filter((e) => _.isEqual(e.p, p)).map((e) => e.id);\n\n    return {\n      p,\n      children,\n    };\n  });\n\n  return {\n    unionIds,\n    unions,\n  };\n};\n\nexport default findAllUnions;\n","import {\n  cardWidth,\n  cardHeight,\n  cardSpacingVertical,\n  cardSpacingHorizontal,\n} from \"../../constants\";\nimport findPersonById from \"../find-person-by-id\";\n\nexport default (persons, unions) => {\n  const lines = prelimenaryPlotting(persons, unions);\n\n  spaceOverlapingLines(lines);\n\n  continueLines(lines);\n\n  spaceOverlapingLinesVertical(lines);\n\n  return lines.map((line) => {\n    return {\n      assosiatedItems: line.assosiatedItems,\n      points: line.points,\n      type: line.params.type,\n      id: line.id,\n    };\n  });\n};\n\nconst prelimenaryPlotting = (persons, unions) => {\n  const lines = [];\n\n  const plotLine = (x1, y1, x2, y2, type, unionLine) => {\n    let line;\n    if (y1 === y2) {\n      line = {\n        points: [\n          [x1, y1],\n          [x2, y2],\n        ],\n        params: { x1, y1, x2, y2, type },\n      };\n    } else {\n      const lineSpineY = y1 - (cardHeight / 2 + cardSpacingVertical / 2);\n      line = {\n        shouldBeContinued: true,\n        points: [\n          [x1, lineSpineY],\n          [x2, lineSpineY],\n        ],\n        params: { x1, y1, x2, y2, type },\n      };\n    }\n\n    line.points.sort(sortPoints);\n\n    line.id = `line#${lines.length}`;\n    line.unionLine = unionLine;\n\n    lines.push(line);\n\n    return line;\n  };\n\n  unions.forEach(({ p, children }) => {\n    const [spouseId1, spouseId2] = p;\n    const [spouse1, spouse2] = [\n      findPersonById(spouseId1, persons),\n      findPersonById(spouseId2, persons),\n    ].sort((a, b) => {\n      return a.x - b.x;\n    });\n\n    const [x1, y1] = calculateCardCenter(spouse1);\n    const [x2, y2] = calculateCardCenter(spouse2);\n\n    const [xUnion, yUnion] =\n      y1 === y2\n        ? [x1 + cardWidth / 2 + cardSpacingHorizontal / 2, y1]\n        : getPointBetween(x1, y1, x2, y2);\n\n    const unionLine = plotLine(x1, y1, x2, y2, \"union\");\n\n    unionLine.assosiatedItems = [spouseId1, spouseId2, ...children];\n\n    children.forEach((child) => {\n      const [xChild, yChild] = calculateCardCenter(\n        findPersonById(child, persons)\n      );\n\n      const childLine = plotLine(\n        xChild,\n        yChild,\n        xUnion,\n        yUnion,\n        \"child\",\n        unionLine\n      );\n\n      childLine.assosiatedItems = [spouseId1, spouseId2, child];\n    });\n  });\n\n  return lines;\n};\n\nconst getPointBetween = (x1, y1, x2, y2) => {\n  const deltaX = x2 - x1;\n  const deltaY = y2 - y1;\n  return [x1 + deltaX / 2, y1 + deltaY / 2];\n};\n\nconst calculateCardCenter = (person) => {\n  const { x, y } = person;\n  return [\n    (cardWidth + cardSpacingHorizontal) * x + 0.5 * cardWidth,\n    (cardHeight + cardSpacingVertical) * y + 0.5 * cardHeight,\n  ];\n};\n\nconst spaceOverlapingLines = (lines) => {\n  const groups = [];\n\n  const lineIsInGroup = (line) =>\n    !!groups.find((group) => !!group.find((l) => l.id === line.id));\n\n  lines.forEach((line) => {\n    const hasBeenAddedToGroup = lineIsInGroup(line);\n    if (hasBeenAddedToGroup) return;\n    const group = [line];\n    groups.push(group);\n\n    lines.forEach((line2) => {\n      if (\n        !lineIsInGroup(line2) &&\n        line2.points[0][1] === line.points[0][1] && // isnt same level\n        line2.points[1][0] > line.points[0][0] && // isnt reaching\n        line2.points[0][0] < line.points[1][0] // overreached\n      ) {\n        group.push(line2);\n      }\n    });\n  });\n\n  groups.forEach((group) => {\n    const lineCount = group.length;\n    const lineSpacing = Math.min(\n      (cardSpacingVertical * 0.9) / lineCount,\n      cardSpacingVertical / 3\n    );\n    const totalWidth = (lineCount - 1) * lineSpacing;\n\n    group.sort((a, b) => {\n      return a.points[0][0] - b.points[0][0];\n    });\n\n    group.forEach((line, i) => {\n      line.points.forEach((point) => {\n        point[1] += i * lineSpacing - totalWidth / 2;\n      });\n    });\n  });\n};\nconst spaceOverlapingLinesVertical = (lines) => {\n  const groups = [];\n\n  const verticalLines = [];\n\n  lines.map((line) => {\n    if (!line.shouldBeContinued) return;\n\n    const myLines = [\n      [line.points[0], line.points[1]],\n      [line.points[2], line.points[3]],\n    ];\n\n    myLines.forEach((l, i) => {\n      l.sort(sortPointsVertical);\n\n      const [start, end] = l;\n\n      verticalLines.push({\n        id: line.id + \"_\" + i,\n        start,\n        end,\n        sort: Math.max(line.points[0][0], line.points[3][0]),\n      });\n    });\n  });\n\n  const isInGroup = (line) =>\n    !!groups.find((group) => !!group.find((l) => l.id === line.id));\n\n  verticalLines.forEach((line) => {\n    const hasBeenAddedToGroup = isInGroup(line);\n    if (hasBeenAddedToGroup) return;\n\n    const group = [line];\n    groups.push(group);\n\n    verticalLines.forEach((line2) => {\n      if (\n        !isInGroup(line2) &&\n        line2.start[0] === line.start[0] && // is same level\n        line2.start[1] < line.end[1] && // is reaching\n        line2.end[1] > line.start[1] // has reaching\n      ) {\n        group.push(line2);\n      }\n    });\n  });\n\n  groups.forEach((group) => {\n    group.sort((line, b) => line.sort - b.sort);\n    const lineCount = group.length;\n    const lineSpacing = (cardSpacingVertical * 0.9) / lineCount;\n    const totalWidth = (lineCount - 1) * lineSpacing;\n    group.forEach((line, i) => {\n      line.start[0] += i * lineSpacing - totalWidth / 2;\n      line.end[0] += i * lineSpacing - totalWidth / 2;\n    });\n  });\n};\n\nconst continueLines = (lines) => {\n  lines\n    .filter((l) => l.shouldBeContinued)\n    .forEach((line) => {\n      let { unionLine } = line;\n\n      if (unionLine) {\n        line.params.y2 = unionLine.points[0][1];\n      }\n\n      const pointsGoals = [\n        [line.params.x1, line.params.y1],\n        [line.params.x2, line.params.y2],\n      ].sort(sortPoints);\n\n      const points = line.points.sort(sortPoints);\n\n      line.points = [pointsGoals[0], ...points, pointsGoals[1]];\n    });\n};\n\nconst sortPoints = (a, b) => {\n  return a[0] - b[0];\n};\n\nconst sortPointsVertical = (a, b) => {\n  return a[1] - b[1];\n};\n","import _ from \"lodash\";\nimport plotPersons from \"./plot-persons\";\nimport findAllUnions from \"./find-all-unions\";\nimport getDimensions from \"./get-dimensions\";\nimport plotLines from \"./plot-lines\";\nimport {\n  cardSpacingHorizontal,\n  cardHeight,\n  cardWidth,\n  cardSpacingVertical,\n} from \"../constants\";\n\nexport default (originalList, params = {}) => {\n  const { shouldShrink = false } = params;\n\n  const timeStart = performance.now();\n\n  const clonedList = _.cloneDeep(originalList);\n\n  fixMissingParents(clonedList);\n\n  const { unions } = findAllUnions(clonedList);\n\n  const list = plotPersons(clonedList, unions, shouldShrink);\n\n  const { rows, columns } = getDimensions(list);\n\n  const lines = plotLines(list, unions);\n\n  const timeEnd = performance.now();\n\n  const time = timeEnd - timeStart;\n\n  const processed = {\n    list,\n    unions,\n    rows,\n    columns,\n    lines,\n    time,\n    treeWidth: columns * cardWidth + (columns - 1) * cardSpacingHorizontal,\n    treeHeight: rows * cardHeight + (rows - 1) * cardSpacingVertical,\n  };\n\n  console.log({ processed }, processed.time);\n\n  return processed;\n};\n\nconst fixMissingParents = (list) => {\n  const ids = list.map(({ id }) => id);\n  list.forEach((item) => {\n    if (item.p && item.p.length > 0) {\n      item.p.forEach((parentId) => {\n        if (ids.indexOf(parentId) === -1) {\n          item.p = [];\n        }\n      });\n    }\n  });\n};\n","import React, { useMemo, useState, useEffect } from \"react\";\nimport classnames from \"classnames\";\n\nimport Card from \"../Card\";\nimport Line from \"../Line\";\n\nimport processor from \"../../processor\";\nimport styles from \"./tree.module.css\";\nimport stylesCard from \"../Card/card.module.css\";\n\nconst Tree = ({\n  updateKey = 1,\n  persons = [],\n  forceSelectedPersonId,\n  onCalculatedDimensions,\n  onClickPerson,\n  selectedItems = [],\n  shouldShrink = false,\n}) => {\n  const hasForcedId = forceSelectedPersonId;\n\n  const { list, lines, treeWidth, treeHeight } = useMemo(\n    () => processor(persons, { shouldShrink }),\n    [\n      persons\n        .map((e) => e.id)\n        .sort()\n        .join(\"\"),\n      shouldShrink,\n      updateKey,\n    ]\n  );\n\n  React.useEffect(() => {\n    if (onCalculatedDimensions) {\n      onCalculatedDimensions([treeWidth, treeHeight]);\n    }\n  });\n\n  const [hoverPerson, setHoverPerson] = useState(null);\n  const elementId = useMemo(() => generateID(), []);\n\n  const selectedPerson = forceSelectedPersonId\n    ? list.find(({ id }) => id === forceSelectedPersonId)\n    : hoverPerson;\n\n  useEffect(() => {\n    if (\n      selectedPerson &&\n      forceSelectedPersonId &&\n      hoverPerson &&\n      hoverPerson.id !== forceSelectedPersonId\n    ) {\n      setHoverPerson(null);\n    }\n  }, [forceSelectedPersonId]);\n\n  const mouseEnter = (e) => {\n    const person = persons.find(\n      (p) => p.id === e.target.getAttribute(\"data-person-id\")\n    );\n    if (person && person !== selectedPerson) setHoverPerson(person);\n  };\n\n  const resetSelectedPerson = (e) => {\n    if (selectedPerson) setHoverPerson(null);\n  };\n\n  const cardOnClick = onClickPerson\n    ? (e) =>\n        onClickPerson(\n          persons.find((p) => p.id === e.target.getAttribute(\"data-person-id\"))\n        )\n    : null;\n\n  const cards = list.map((person) => (\n    <Card\n      onClick={cardOnClick}\n      onMouseLeave={!hasForcedId ? resetSelectedPerson : null}\n      data-person-id={person.id}\n      onMouseEnter={!hasForcedId ? mouseEnter : null}\n      key={person.id}\n      person={person}\n      className={classnames({\n        [stylesCard.selected]:\n          selectedPerson && person.id === selectedPerson.id,\n        [stylesCard.highlight]: isPersonHighlighted(person, selectedPerson),\n        [stylesCard.selected]: selectedItems.indexOf(person.id) !== -1,\n      })}\n      style={{\n        position: \"absolute\",\n        top: person.dimensions.x,\n        left: person.dimensions.y,\n        width: person.dimensions.width,\n        height: person.dimensions.height,\n      }}\n    />\n  ));\n\n  const connecters = lines.map(({ points, type, id, assosiatedItems }) => (\n    <Line\n      key={id}\n      type={type}\n      isHighlighted={\n        selectedPerson && assosiatedItems.indexOf(selectedPerson.id) !== -1\n      }\n    >\n      <path fill=\"none\" d={[\"M\", ...points].join(\" \")} />\n    </Line>\n  ));\n\n  return (\n    <div\n      id={elementId}\n      className={styles.container}\n      style={{\n        width: treeWidth,\n        height: treeHeight,\n      }}\n    >\n      {connecters}\n      {cards}\n    </div>\n  );\n};\n\nexport default Tree;\n\nconst isPersonHighlighted = (person, selectedPerson) => {\n  if (!selectedPerson) return false;\n  if (person.p.indexOf(selectedPerson.id) !== -1) return true;\n  if (selectedPerson.p.indexOf(person.id) === -1) return false;\n  return true;\n};\n\nfunction generateID() {\n  let result = \"\";\n  const characters = \"abcdefghijklmnopqrstuvwxyz\";\n  for (let i = 0; i < 6; i++) {\n    const index = Math.floor(Math.random() * characters.length);\n    result += characters.charAt(index);\n  }\n  return \"tree-\" + result;\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => (\n  <header className=\"page-header main-gradient shadow\">\n    <div className=\"constraint flex\">\n      <Link to=\"/\">\n        <h2>\n          <span>T</span>ree<span>G</span>rows<span>U</span>p\n        </h2>\n      </Link>\n      <img src=\"/logo.png\" alt=\"\" />\n    </div>\n  </header>\n);\n\nexport default Header;\n","import React from \"react\";\n\nconst Header = () => (\n  <header className=\"main-gradient-light shadow page-footer\">\n    <div className=\"constraint flex justify-center\">\n      treegrowsup.com © {new Date().getFullYear()}\n    </div>\n  </header>\n);\n\nexport default Header;\n","import React from \"react\";\n\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\n\nexport default ({ children }) => {\n  return (\n    <React.Fragment>\n      <Header />\n      {children}\n      <Footer />\n    </React.Fragment>\n  );\n};\n","import uniqueString from \"unique-string\";\n\nexport const instantiatePerson = ({ name, p = [], g, treeId }) => ({\n  name,\n  id: uniqueString(),\n  p,\n  g,\n});\n\nexport const createTree = (params = {}) => {\n  const { name } = params;\n  const treeId = uniqueString();\n\n  const list = [];\n\n  const createUnion = (person1, person2) => {\n    return {\n      attachChildren: (...children) => {\n        children.forEach((child) => {\n          child.p.push(person1.id, person2.id);\n        });\n        return [person1, person2];\n      },\n    };\n  };\n\n  const createPerson = (name) => {\n    list.push(\n      instantiatePerson({\n        name,\n        g: list.length % 2 === 0 ? \"1\" : \"0\",\n      })\n    );\n\n    return list[list.length - 1];\n  };\n\n  return {\n    createPerson,\n    list,\n    createUnion,\n    treeId,\n    name,\n  };\n};\n\nexport const optimizeTree = (tree) => {\n  const list = [...tree.list];\n\n  list.sort((a, b) => a.id.localeCompare(b.id));\n\n  const cleanList = list.map((item) => {\n    const cleanItem = { ...item, p: item.p };\n    delete cleanItem.treeId;\n    delete cleanItem.parents;\n\n    return cleanItem;\n  });\n\n  const ids = list.map((e) => e.id);\n  let replaced = JSON.stringify(cleanList);\n  let count = 0;\n  ids.forEach((id, i) => {\n    replaced = replaced.replace(\n      new RegExp(`\\\"${id}\\\"`, \"g\"),\n      `\"%${(count++).toString(36)}\"`\n    );\n  });\n\n  const cleanTree = {\n    ...tree,\n    list: JSON.parse(replaced),\n  };\n\n  // delete cleanTree.treeId;\n\n  return cleanTree;\n};\n","import { createTree } from \"../utils/tree-utils\";\n\nconst tree = createTree();\nconst { createPerson, createUnion, list } = tree;\n\nconst vlad = createPerson(\"Wife\");\nconst john = createPerson(\"Father-In-Law\");\nconst anna = createPerson(\"Mother-In-Law\");\nconst papa = createPerson(\"Father\");\nconst mama = createPerson(\"Mother\");\nconst diana = createPerson(\"Me\");\nconst grandpapa = createPerson(\"Grandfather\");\nconst grandmama = createPerson(\"Grandmother\");\nconst othergrandpapa = createPerson(\"Grandfather\");\nconst othergrandmama = createPerson(\"Grandmother\");\n\ncreateUnion(papa, mama).attachChildren(diana, createPerson(\"Brother\"));\ncreateUnion(john, anna).attachChildren(vlad);\ncreateUnion(vlad, diana).attachChildren(createPerson(\"Son\"));\ncreateUnion(othergrandpapa, othergrandmama).attachChildren(mama);\ncreateUnion(grandpapa, grandmama).attachChildren(papa);\n\nexport default list;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Tree from \"../../components/Tree\";\nimport Page from \"../../layouts/Page\";\nimport \"./main-page.scss\";\n\nimport fixture from \"../../fixtures/two-headed-family.fixture\";\nconst highlightedNode = fixture.find(({ name }) => name === \"Me\").id;\n\nfunction MainPage() {\n  return (\n    <Page>\n      <div className=\"constraint\">\n        <div className=\"overlay-main\" />\n        <main className=\"main-page\">\n          <div className=\"relative\">\n            <div className=\"landing-tree-demo\">\n              <Tree persons={fixture} forceSelectedPersonId={highlightedNode} />\n            </div>\n          </div>\n          <div className=\"flex justify-center\">\n            <Link to=\"/manage-trees\" className=\"button\">\n              Manage My Trees\n            </Link>\n          </div>\n        </main>\n      </div>\n    </Page>\n  );\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport { useStatePersist } from \"use-state-persist\";\nimport { createTree, optimizeTree } from \"../../utils/tree-utils\";\n\nimport { Link } from \"react-router-dom\";\nimport { stringify } from \"zipson\";\nconst prettyBytes = require(\"pretty-bytes\");\n\nfunction downloadFile(filename, text) {\n  var element = document.createElement(\"a\");\n  element.setAttribute(\n    \"href\",\n    \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n  );\n  element.setAttribute(\"download\", filename);\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n}\n\nconst TreeList = () => {\n  const [trees, setTrees] = useStatePersist(\"@trees\");\n\n  React.useEffect(() => {\n    if (!trees) {\n      setTrees([]);\n    }\n  }, [!!trees]);\n\n  if (!trees) return null;\n\n  const addTreeToMyList = (e) => {\n    // e.preventDefault();\n    const name = prompt(\"Please enter tree name\", `Tree ${Date.now()}`);\n\n    if (!name) return;\n\n    const { list, treeId, createUnion, createPerson } = createTree({ name });\n\n    createUnion(\n      createPerson(\"Person 1\"),\n      createPerson(\"Person 2\")\n    ).attachChildren(createPerson(\"Person 3\"));\n\n    setTrees([\n      ...trees,\n      {\n        list,\n        treeId,\n        name,\n        edited: false,\n      },\n    ]);\n  };\n\n  const removeTree = (treeId) => () => {\n    if (window.confirm(\"Are you sure you want to delete?\")) {\n      setTrees(trees.filter((tree) => tree.treeId !== treeId));\n    }\n  };\n\n  const renderMyTreesList = () => {\n    return (\n      <table>\n        <thead></thead>\n        <tbody>\n          {trees.map((tree) => {\n            const { treeId, name, list, edited } = tree;\n\n            const str = stringify(tree);\n\n            const exportTree = () => {\n              downloadFile(`Tree--${name}.txt`, str);\n            };\n\n            return (\n              <React.Fragment key={treeId}>\n                <tr>\n                  <th>\n                    <span className=\"tree-name\">{name}</span>\n                  </th>\n                  <th>\n                    {edited ? (\n                      `${list.length} people`\n                    ) : (\n                      <span className=\"new-tree-label\">New</span>\n                    )}\n                  </th>\n                  <th>\n                    <button\n                      onClick={removeTree(treeId)}\n                      className=\"delete-button\"\n                    >\n                      <img\n                        src=\"/delete.png\"\n                        alt=\"\"\n                        width=\"20px\"\n                        height=\"20px\"\n                      />\n                    </button>\n                  </th>\n                  <th>\n                    <button onClick={exportTree}>\n                      Export{\" \"}\n                      <span className=\"small-text\">\n                        ({prettyBytes(new TextEncoder().encode(str).length)})\n                      </span>\n                    </button>\n                  </th>\n\n                  <th>\n                    <Link to={`/tree/${treeId}`} className=\"button\">\n                      view\n                    </Link>\n                  </th>\n                </tr>\n              </React.Fragment>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  };\n\n  return (\n    <div className=\"my-tree-list\">\n      <h3>My Trees</h3>\n\n      <div className=\"my-tree-list-body\">\n        {trees.length === 0 ? (\n          <span className=\"no-trees-message\">You don't have any trees yet</span>\n        ) : (\n          renderMyTreesList()\n        )}\n      </div>\n\n      <button onClick={addTreeToMyList}>Create a tree</button>\n    </div>\n  );\n};\n\nexport default TreeList;\n","import React from \"react\";\nimport \"./manage-trees-page.scss\";\n\nimport Page from \"../../layouts/Page\";\nimport TreeList from \"../../components/TreeList\";\n\nfunction MainPage() {\n  return (\n    <Page>\n      <div className=\"constraint\">\n        <main className=\"manage-trees-page\">\n          <TreeList />\n        </main>\n      </div>\n    </Page>\n  );\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useStatePersist } from \"use-state-persist\";\nimport Tree from \"../../components/Tree\";\nimport classnames from \"classnames\";\nimport \"./tree-page.scss\";\nimport { instantiatePerson, optimizeTree } from \"../../utils/tree-utils\";\nimport ManageTrees from \"../ManageTrees\";\n\nfunction TreePage({}) {\n  const { treeId } = useParams();\n\n  const [updateKey, setUpdateKey] = React.useState(0);\n  const [zoom = 1, setZoom] = useStatePersist(`@tree-zoom`);\n  const [trees, setTrees] = useStatePersist(\"@trees\");\n  const [shouldShrink = false, setShouldShrink] = useStatePersist(\n    `@trees-shrink${treeId}`\n  );\n  const [selectedItems, setSelectedItems] = React.useState([]);\n\n  const [treeDimensions, setTreeDimensions] = React.useState([10000, 10000]);\n\n  const tree = trees.find((t) => t.treeId === treeId);\n\n  if (!tree) return <ManageTrees></ManageTrees>;\n\n  const { name } = tree;\n\n  const getPerson = (id) => tree.list.find((item) => item.id === id);\n\n  const itemHasParents = (id) => {\n    const item = getPerson(id);\n    if (item && item.p.length === 2) return true;\n    return false;\n  };\n\n  const pushToList = (...persons) => {\n    setTrees([\n      ...trees.filter((tree) => tree.treeId !== treeId),\n      optimizeTree({\n        ...tree,\n        edited: true,\n        list: [\n          ...tree.list.filter((item) => !persons.find((p) => p.id === item.id)),\n          ...persons,\n        ],\n      }),\n    ]);\n  };\n\n  if (tree.list.length === 0) {\n    setTrees([...trees.filter((tree) => tree.treeId !== treeId)]);\n    return null;\n  }\n\n  const editSelectedItem = () => {\n    if (selectedItems.length !== 1) return;\n    const [id] = selectedItems;\n    const person = getPerson(id);\n\n    const name = prompt(\"Please enter person name\", person.name);\n\n    if (!name) return;\n\n    pushToList({\n      ...person,\n      name: name,\n    });\n    setUpdateKey(updateKey + 1);\n    setSelectedItems([]);\n  };\n\n  return (\n    <div\n      className=\"tree-view-page\"\n      tabIndex=\"0\"\n      onKeyDown={(e) => {\n        if (e.keyCode === 13) {\n          editSelectedItem();\n        }\n      }}\n    >\n      <div className=\"flex tree-view-page-header\">\n        <div className=\"flex\">\n          <h2>{name}</h2>\n          <Link className=\"button\" to=\"/manage-trees\">\n            home\n          </Link>\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: zoom >= 2,\n            })}\n            onClick={() => setZoom(zoom + 0.2)}\n          >\n            Zoom +\n          </div>\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: zoom <= 0.2,\n            })}\n            onClick={() => setZoom(zoom - 0.2)}\n          >\n            Zoom -\n          </div>\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: selectedItems.length !== 1,\n            })}\n            onClick={() => {\n              const [id] = selectedItems;\n              const item = getPerson(id);\n              const partner = instantiatePerson({\n                treeId,\n              });\n              const child = instantiatePerson({\n                treeId,\n                p: [id, partner.id],\n              });\n              pushToList(partner, child);\n              setSelectedItems([]);\n            }}\n          >\n            add partner\n          </div>\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled:\n                selectedItems.length !== 1 || itemHasParents(selectedItems[0]),\n            })}\n            onClick={() => {\n              const [id] = selectedItems;\n              const item = getPerson(id);\n\n              const parent1 = instantiatePerson({\n                treeId,\n              });\n\n              const parent2 = instantiatePerson({\n                treeId,\n              });\n\n              pushToList(\n                {\n                  ...item,\n                  p: [parent1.id, parent2.id],\n                },\n                parent1,\n                parent2\n              );\n\n              setSelectedItems([]);\n            }}\n          >\n            add parents\n          </div>\n\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: selectedItems.length !== 1,\n            })}\n            onClick={editSelectedItem}\n          >\n            Edit item\n          </div>\n\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: selectedItems.length === 0,\n            })}\n            onClick={() => {\n              setTrees([\n                ...trees.filter((tree) => tree.treeId !== treeId),\n                {\n                  ...tree,\n                  list: [\n                    ...tree.list.filter(\n                      (item) => !selectedItems.find((id) => id === item.id)\n                    ),\n                  ],\n                },\n              ]);\n              setSelectedItems([]);\n            }}\n          >\n            Delete\n          </div>\n\n          <div\n            className={classnames(\"button minimal-button\", {\n              disabled: selectedItems.length !== 2,\n            })}\n            onClick={() => {\n              const [parent1, parent2] = selectedItems;\n\n              pushToList(\n                instantiatePerson({\n                  treeId,\n                  p: [parent1, parent2],\n                })\n              );\n            }}\n          >\n            add child\n          </div>\n\n          <div\n            className={classnames(\"button minimal-button\", {\n              // disabled: selectedItems.length !== 1,\n            })}\n            onClick={() => {\n              setShouldShrink(!shouldShrink);\n            }}\n          >\n            Shrink {shouldShrink ? \"+\" : \"-\"}\n          </div>\n        </div>\n      </div>\n      <hr />\n\n      <div className=\"tree-display-container\">\n        <div\n          style={{\n            width: treeDimensions[0] * zoom + 20,\n            height: treeDimensions[1] * zoom + 20,\n            padding: 20,\n          }}\n        >\n          <div\n            style={{\n              transform: `scale(${zoom})`,\n            }}\n          >\n            <Tree\n              updateKey={updateKey}\n              shouldShrink={shouldShrink}\n              selectedItems={selectedItems}\n              persons={tree.list}\n              onCalculatedDimensions={([w, h]) => {\n                if (w !== treeDimensions[0] || h !== treeDimensions[1]) {\n                  setTreeDimensions([w, h]);\n                }\n              }}\n              onClickPerson={({ id }) => {\n                const isSelected = selectedItems.indexOf(id) !== -1;\n                setSelectedItems(\n                  isSelected\n                    ? selectedItems.filter((e) => e !== id)\n                    : [...selectedItems, id]\n                );\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TreePage;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport PageMain from \"./pages/Main\";\nimport PageManageTrees from \"./pages/ManageTrees\";\nimport PageTree from \"./pages/TreePage\";\n\nconst App = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/tree/:treeId\" component={PageTree} />\n        <Route path=\"/manage-trees\" component={PageManageTrees} />\n        <Route path=\"/\" component={PageMain} />\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./styles/index.scss\";\nimport \"./styles/page.scss\";\nimport \"./styles/header.scss\";\nimport \"./styles/footer.scss\";\nimport \"./styles/treeList.scss\";\n\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"line_container__kXjTG\",\"highlighted\":\"line_highlighted__32_bR\",\"animation-highlight\":\"line_animation-highlight__SwKzg\",\"type--union\":\"line_type--union__1q94K\",\"type--child\":\"line_type--child__2vQ4H\",\"type--undefined\":\"line_type--undefined__3b8y9\"};"],"sourceRoot":""}